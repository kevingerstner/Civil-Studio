import{ar as wn,as as Cn,at as Dn,au as On,r as u,aq as Ut,av as Qe,aw as Ze,ax as le,u as oe,ay as Vt,s as W,F as N,az as Rn,j as r,P as Ee,G as Ie,aA as fe,a0 as We,aB as et,aC as B,aD as Mn,aE as Tn,aF as Yt,aG as ae,C as X,T as M,af as kn,ag as Se,m as He,aH as Nn,w as de,ao as $t,B as D,d as U,y as Gt,aI as Ue,aJ as An,aK as Ln,aL as Fn,aM as zn,aN as we,f as tt,b as nt,A as Bn,aO as Wn,aP as Hn,aQ as Un,aR as se,aS as Vn,aT as Yn,aU as $n,aV as ue,U as Gn,aW as ot,aX as te,x as G,aY as Kn,aZ as Ce,a_ as qn,h as Kt,l as qt,a$ as Xn,b0 as Jn,D as Qn,b1 as Zn,b2 as eo,q as Xt,b3 as to,b4 as no,b5 as ut,b6 as De,b7 as Jt,b8 as oo,b9 as Qt,g as so,ba as ro,bb as Ve,bc as Zt,bd as ao,be as io,e as co,bf as lo,bg as uo,bh as en,bi as po,bj as ho,bk as fo,L as K,v as tn,Y as q,t as mo,Q as nn,bl as go,bm as xo,bn as on,bo as Ye,bp as vo,bq as sn,br as pt,bs as bo,bt as rn,bu as yo,bv as jo,bw as _o,bx as st,by as Po,bz as $e,bA as Eo,bB as Io,bC as ke,bD as So,bE as wo,bF as Co,bG as Do,M as Oo,Z as ht,bH as rt,bI as Ro,bJ as Mo,bK as To,bL as Ne,H as ko,bM as ft,bN as Ge,bO as an,R as No,bP as Ao,bQ as Lo,bR as at,bS as Fo,bT as zo,bU as Bo,bV as Wo,ah as Ho,bW as Uo,a1 as Vo,bX as Yo,bY as $o,bZ as Go,z as Ko,b_ as Ke,b$ as qo,c0 as Xo,c1 as Jo,c2 as Qo,a as Zo,c3 as es,c4 as ts,c5 as qe,c6 as ns,c7 as os,c8 as ss,c9 as mt,a4 as rs,a5 as as,ca as cn,cb as ln,cc as dn,cd as un,ce as is,cf as cs,cg as ls,ch as ds,ci as Ae}from"./sanity-cc7e1e54.js";function pn(t,e){var n=typeof e=="object";return new Promise(function(s,o){var a=new wn({next:function(i){s(i),a.unsubscribe()},error:o,complete:function(){n?s(e.defaultValue):o(new Cn)}});t.subscribe(a)})}function us(){return Dn(function(t,e){var n,s=!1;t.subscribe(On(e,function(o){var a=n;n=o,s&&e.next([a,o]),s=!0}))})}/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var gt=Object.getOwnPropertySymbols,ps=Object.prototype.hasOwnProperty,hs=Object.prototype.propertyIsEnumerable;function fs(t){if(t==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}function ms(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de",Object.getOwnPropertyNames(t)[0]==="5")return!1;for(var e={},n=0;n<10;n++)e["_"+String.fromCharCode(n)]=n;var s=Object.getOwnPropertyNames(e).map(function(a){return e[a]});if(s.join("")!=="0123456789")return!1;var o={};return"abcdefghijklmnopqrst".split("").forEach(function(a){o[a]=a}),Object.keys(Object.assign({},o)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}var gs=ms()?Object.assign:function(t,e){for(var n,s=fs(t),o,a=1;a<arguments.length;a++){n=Object(arguments[a]);for(var i in n)ps.call(n,i)&&(s[i]=n[i]);if(gt){o=gt(n);for(var l=0;l<o.length;l++)hs.call(n,o[l])&&(s[o[l]]=n[o[l]])}}return s},me=gs,xs={};function Y(t,e,n,s,o,a,i,l){if(!t){var c;if(e===void 0)c=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var d=[n,s,o,a,i,l],f=0;c=new Error(e.replace(/%s/g,function(){return d[f++]})),c.name="Invariant Violation"}throw c.framesToPop=1,c}}var xt="mixins";function vs(t,e,n){var s=[],o={mixins:"DEFINE_MANY",statics:"DEFINE_MANY",propTypes:"DEFINE_MANY",contextTypes:"DEFINE_MANY",childContextTypes:"DEFINE_MANY",getDefaultProps:"DEFINE_MANY_MERGED",getInitialState:"DEFINE_MANY_MERGED",getChildContext:"DEFINE_MANY_MERGED",render:"DEFINE_ONCE",componentWillMount:"DEFINE_MANY",componentDidMount:"DEFINE_MANY",componentWillReceiveProps:"DEFINE_MANY",shouldComponentUpdate:"DEFINE_ONCE",componentWillUpdate:"DEFINE_MANY",componentDidUpdate:"DEFINE_MANY",componentWillUnmount:"DEFINE_MANY",UNSAFE_componentWillMount:"DEFINE_MANY",UNSAFE_componentWillReceiveProps:"DEFINE_MANY",UNSAFE_componentWillUpdate:"DEFINE_MANY",updateComponent:"OVERRIDE_BASE"},a={getDerivedStateFromProps:"DEFINE_MANY_MERGED"},i={displayName:function(m,p){m.displayName=p},mixins:function(m,p){if(p)for(var x=0;x<p.length;x++)c(m,p[x])},childContextTypes:function(m,p){m.childContextTypes=me({},m.childContextTypes,p)},contextTypes:function(m,p){m.contextTypes=me({},m.contextTypes,p)},getDefaultProps:function(m,p){m.getDefaultProps?m.getDefaultProps=h(m.getDefaultProps,p):m.getDefaultProps=p},propTypes:function(m,p){m.propTypes=me({},m.propTypes,p)},statics:function(m,p){d(m,p)},autobind:function(){}};function l(m,p){var x=o.hasOwnProperty(p)?o[p]:null;v.hasOwnProperty(p)&&Y(x==="OVERRIDE_BASE","ReactClassInterface: You are attempting to override `%s` from your class specification. Ensure that your method names do not overlap with React methods.",p),m&&Y(x==="DEFINE_MANY"||x==="DEFINE_MANY_MERGED","ReactClassInterface: You are attempting to define `%s` on your component more than once. This conflict may be due to a mixin.",p)}function c(m,p){if(p){Y(typeof p!="function","ReactClass: You're attempting to use a component class or function as a mixin. Instead, just use a regular object."),Y(!e(p),"ReactClass: You're attempting to use a component as a mixin. Instead, just use a regular object.");var x=m.prototype,w=x.__reactAutoBindPairs;p.hasOwnProperty(xt)&&i.mixins(m,p.mixins);for(var _ in p)if(p.hasOwnProperty(_)&&_!==xt){var I=p[_],C=x.hasOwnProperty(_);if(l(C,_),i.hasOwnProperty(_))i[_](m,I);else{var T=o.hasOwnProperty(_),R=typeof I=="function",O=R&&!T&&!C&&p.autobind!==!1;if(O)w.push(_,I),x[_]=I;else if(C){var k=o[_];Y(T&&(k==="DEFINE_MANY_MERGED"||k==="DEFINE_MANY"),"ReactClass: Unexpected spec policy %s for key %s when mixing in component specs.",k,_),k==="DEFINE_MANY_MERGED"?x[_]=h(x[_],I):k==="DEFINE_MANY"&&(x[_]=b(x[_],I))}else x[_]=I}}}}function d(m,p){if(p)for(var x in p){var w=p[x];if(p.hasOwnProperty(x)){var _=x in i;Y(!_,'ReactClass: You are attempting to define a reserved property, `%s`, that shouldn\'t be on the "statics" key. Define it as an instance property instead; it will still be accessible on the constructor.',x);var I=x in m;if(I){var C=a.hasOwnProperty(x)?a[x]:null;Y(C==="DEFINE_MANY_MERGED","ReactClass: You are attempting to define `%s` on your component more than once. This conflict may be due to a mixin.",x),m[x]=h(m[x],w);return}m[x]=w}}}function f(m,p){Y(m&&p&&typeof m=="object"&&typeof p=="object","mergeIntoWithNoDuplicateKeys(): Cannot merge non-objects.");for(var x in p)p.hasOwnProperty(x)&&(Y(m[x]===void 0,"mergeIntoWithNoDuplicateKeys(): Tried to merge two objects with the same key: `%s`. This conflict may be due to a mixin; in particular, this may be caused by two getInitialState() or getDefaultProps() methods returning objects with clashing keys.",x),m[x]=p[x]);return m}function h(m,p){return function(){var w=m.apply(this,arguments),_=p.apply(this,arguments);if(w==null)return _;if(_==null)return w;var I={};return f(I,w),f(I,_),I}}function b(m,p){return function(){m.apply(this,arguments),p.apply(this,arguments)}}function j(m,p){var x=p.bind(m);return x}function y(m){for(var p=m.__reactAutoBindPairs,x=0;x<p.length;x+=2){var w=p[x],_=p[x+1];m[w]=j(m,_)}}var E={componentDidMount:function(){this.__isMounted=!0}},S={componentWillUnmount:function(){this.__isMounted=!1}},v={replaceState:function(m,p){this.updater.enqueueReplaceState(this,m,p)},isMounted:function(){return!!this.__isMounted}},g=function(){};me(g.prototype,t.prototype,v);function P(m){var p=function(w,_,I){this.__reactAutoBindPairs.length&&y(this),this.props=w,this.context=_,this.refs=xs,this.updater=I||n,this.state=null;var C=this.getInitialState?this.getInitialState():null;Y(typeof C=="object"&&!Array.isArray(C),"%s.getInitialState(): must return an object or null",p.displayName||"ReactCompositeComponent"),this.state=C};p.prototype=new g,p.prototype.constructor=p,p.prototype.__reactAutoBindPairs=[],s.forEach(c.bind(null,p)),c(p,E),c(p,m),c(p,S),p.getDefaultProps&&(p.defaultProps=p.getDefaultProps()),Y(p.prototype.render,"createClass(...): Class specification must implement a `render` method.");for(var x in o)p.prototype[x]||(p.prototype[x]=null);return p}return P}var bs=vs,je=u,ys=bs;if(typeof je>"u")throw Error("create-react-class could not find the React object. If you are using script tags, make sure that React is being loaded before create-react-class.");var js=new je.Component().updater,Oe=ys(je.Component,je.isValidElement,js),_s=Date.now||Ps;function Ps(){return new Date().getTime()}var vt=_s,Es=function(e,n,s){var o,a,i,l,c;n==null&&(n=100);function d(){var f=vt()-l;f<n&&f>0?o=setTimeout(d,n-f):(o=null,s||(c=e.apply(i,a),o||(i=a=null)))}return function(){i=this,a=arguments,l=vt();var h=s&&!o;return o||(o=setTimeout(d,n)),h&&(c=e.apply(i,a),i=a=null),c}},Is=Ss;function Ss(t){for(var e=ws(t),n=1732584193,s=-271733879,o=-1732584194,a=271733878,i=0;i<e.length;i+=16){var l=n,c=s,d=o,f=a;n=A(n,s,o,a,e[i+0],7,-680876936),a=A(a,n,s,o,e[i+1],12,-389564586),o=A(o,a,n,s,e[i+2],17,606105819),s=A(s,o,a,n,e[i+3],22,-1044525330),n=A(n,s,o,a,e[i+4],7,-176418897),a=A(a,n,s,o,e[i+5],12,1200080426),o=A(o,a,n,s,e[i+6],17,-1473231341),s=A(s,o,a,n,e[i+7],22,-45705983),n=A(n,s,o,a,e[i+8],7,1770035416),a=A(a,n,s,o,e[i+9],12,-1958414417),o=A(o,a,n,s,e[i+10],17,-42063),s=A(s,o,a,n,e[i+11],22,-1990404162),n=A(n,s,o,a,e[i+12],7,1804603682),a=A(a,n,s,o,e[i+13],12,-40341101),o=A(o,a,n,s,e[i+14],17,-1502002290),s=A(s,o,a,n,e[i+15],22,1236535329),n=L(n,s,o,a,e[i+1],5,-165796510),a=L(a,n,s,o,e[i+6],9,-1069501632),o=L(o,a,n,s,e[i+11],14,643717713),s=L(s,o,a,n,e[i+0],20,-373897302),n=L(n,s,o,a,e[i+5],5,-701558691),a=L(a,n,s,o,e[i+10],9,38016083),o=L(o,a,n,s,e[i+15],14,-660478335),s=L(s,o,a,n,e[i+4],20,-405537848),n=L(n,s,o,a,e[i+9],5,568446438),a=L(a,n,s,o,e[i+14],9,-1019803690),o=L(o,a,n,s,e[i+3],14,-187363961),s=L(s,o,a,n,e[i+8],20,1163531501),n=L(n,s,o,a,e[i+13],5,-1444681467),a=L(a,n,s,o,e[i+2],9,-51403784),o=L(o,a,n,s,e[i+7],14,1735328473),s=L(s,o,a,n,e[i+12],20,-1926607734),n=F(n,s,o,a,e[i+5],4,-378558),a=F(a,n,s,o,e[i+8],11,-2022574463),o=F(o,a,n,s,e[i+11],16,1839030562),s=F(s,o,a,n,e[i+14],23,-35309556),n=F(n,s,o,a,e[i+1],4,-1530992060),a=F(a,n,s,o,e[i+4],11,1272893353),o=F(o,a,n,s,e[i+7],16,-155497632),s=F(s,o,a,n,e[i+10],23,-1094730640),n=F(n,s,o,a,e[i+13],4,681279174),a=F(a,n,s,o,e[i+0],11,-358537222),o=F(o,a,n,s,e[i+3],16,-722521979),s=F(s,o,a,n,e[i+6],23,76029189),n=F(n,s,o,a,e[i+9],4,-640364487),a=F(a,n,s,o,e[i+12],11,-421815835),o=F(o,a,n,s,e[i+15],16,530742520),s=F(s,o,a,n,e[i+2],23,-995338651),n=z(n,s,o,a,e[i+0],6,-198630844),a=z(a,n,s,o,e[i+7],10,1126891415),o=z(o,a,n,s,e[i+14],15,-1416354905),s=z(s,o,a,n,e[i+5],21,-57434055),n=z(n,s,o,a,e[i+12],6,1700485571),a=z(a,n,s,o,e[i+3],10,-1894986606),o=z(o,a,n,s,e[i+10],15,-1051523),s=z(s,o,a,n,e[i+1],21,-2054922799),n=z(n,s,o,a,e[i+8],6,1873313359),a=z(a,n,s,o,e[i+15],10,-30611744),o=z(o,a,n,s,e[i+6],15,-1560198380),s=z(s,o,a,n,e[i+13],21,1309151649),n=z(n,s,o,a,e[i+4],6,-145523070),a=z(a,n,s,o,e[i+11],10,-1120210379),o=z(o,a,n,s,e[i+2],15,718787259),s=z(s,o,a,n,e[i+9],21,-343485551),n=$(n,l),s=$(s,c),o=$(o,d),a=$(a,f)}return ge(n)+ge(s)+ge(o)+ge(a)}var bt="0123456789abcdef";function it(t,e){var n=t&1|e&1,s=t>>>1|e>>>1;return s<<1|n}function Xe(t,e){var n=t&1^e&1,s=t>>>1^e>>>1;return s<<1|n}function _e(t,e){var n=t&1&(e&1),s=t>>>1&e>>>1;return s<<1|n}function $(t,e){var n=(t&65535)+(e&65535),s=(t>>16)+(e>>16)+(n>>16);return s<<16|n&65535}function ge(t){var e="",n;for(n=0;n<=3;n++)e+=bt.charAt(t>>n*8+4&15)+bt.charAt(t>>n*8&15);return e}function ws(t){var e=(t.length+8>>6)+1,n=new Array(e*16),s;for(s=0;s<e*16;s++)n[s]=0;for(s=0;s<t.length;s++)n[s>>2]|=t.charCodeAt(s)<<(t.length*8+s)%4*8;n[s>>2]|=128<<(t.length*8+s)%4*8;var o=t.length*8;return n[e*16-2]=o&255,n[e*16-2]|=(o>>>8&255)<<8,n[e*16-2]|=(o>>>16&255)<<16,n[e*16-2]|=(o>>>24&255)<<24,n}function Cs(t,e){return t<<e|t>>>32-e}function Re(t,e,n,s,o,a){return $(Cs($($(e,t),$(s,a)),o),n)}function A(t,e,n,s,o,a,i){return Re(it(_e(e,n),_e(~e,s)),t,e,o,a,i)}function L(t,e,n,s,o,a,i){return Re(it(_e(e,s),_e(n,~s)),t,e,o,a,i)}function F(t,e,n,s,o,a,i){return Re(Xe(Xe(e,n),s),t,e,o,a,i)}function z(t,e,n,s,o,a,i){return Re(Xe(n,it(e,~s)),t,e,o,a,i)}var Ds=Math.ceil(Math.random()*10),Os=function(){return++Ds},ct=function(t){return Object.prototype.toString.call(t).slice(8,-1)},Rs=ct;function Ms(t){var e=Rs(t);return e!=="Object"&&e!=="Array"}var hn=Ms,Ts=u,ks=Oe,xe=Ts.createElement,Ns=ks({getDefaultProps:function(){return{string:"",highlight:""}},shouldComponentUpdate:function(t){return t.highlight!==this.props.highlight},render:function(){var t=this.props,e=t.string.search(t.highlight);if(!t.highlight||e===-1)return xe("span",null,t.string);var n=t.highlight.source.length,s=t.string.substr(e,n);return xe("span",null,t.string.split(t.highlight).map(function(o,a){return xe("span",{key:a},a>0?xe("span",{className:"json-inspector__hl"},s):null,o)}))}}),As=u,Ls=Oe,Fs=Is,zs=Os,fn=ct,ve=hn,Bs=Ns,V=As.createElement,Ws=".root.",mn=Ls({getInitialState:function(){return{expanded:this._isInitiallyExpanded(this.props)}},getDefaultProps:function(){return{root:!1,prefix:""}},render:function(){var t="id_"+zs(),e=this.props,n={path:this.keypath(),key:e.label.toString(),value:e.data},s=this._onClick.bind(this,n);return V("div",{className:this.getClassName(),id:"leaf-"+this._rootPath()},V("input",{className:"json-inspector__radio",type:"radio",name:e.id,id:t,tabIndex:-1}),V("label",{className:"json-inspector__line",htmlFor:t,onClick:s},V("div",{className:"json-inspector__flatpath"},n.path),V("span",{className:"json-inspector__key"},this.format(n.key),":",this.renderInteractiveLabel(n.key,!0)),this.renderTitle(),this.renderShowOriginalButton()),this.renderChildren())},renderTitle:function(){var t=this.data(),e=fn(t);switch(e){case"Array":var n=t.length;return V("span",{className:"json-inspector__value json-inspector__value_helper"},(n>0?"[…] ":"[] ")+Hs(n));case"Object":var s=Object.keys(t).length;return V("span",{className:"json-inspector__value json-inspector__value_helper"},(s>0?"{…} ":"{} ")+Us(s));default:return V("span",{className:"json-inspector__value json-inspector__value_"+e.toLowerCase()},this.format(String(t)),this.renderInteractiveLabel(t,!1))}},renderChildren:function(){var t=this.props,e=this._rootPath(),n=this.data();return this.state.expanded&&!ve(n)?Object.keys(n).map(function(s){var o=n[s],a=!this.state.original||(t.verboseShowOriginal?t.query:!1);return V(mn,{data:o,label:s,prefix:e,onClick:t.onClick,id:t.id,query:t.query,getOriginal:a?t.getOriginal:null,key:Vs(s,o),isExpanded:t.isExpanded,interactiveLabel:t.interactiveLabel,verboseShowOriginal:t.verboseShowOriginal})},this):null},renderShowOriginalButton:function(){var t=this.props;return ve(t.data)||this.state.original||!t.getOriginal||!t.query||Le(this.keypath(),t.query)?null:V("span",{className:"json-inspector__show-original",onClick:this._onShowOriginalClick})},renderInteractiveLabel:function(t,e){return typeof this.props.interactiveLabel=="function"?V(this.props.interactiveLabel,{value:String(t),originalValue:t,isKey:e,keypath:this.keypath()}):null},componentWillReceiveProps:function(t){t.query&&this.setState({expanded:!Le(t.label,t.query)}),this.props.query&&!t.query&&this.setState({expanded:this._isInitiallyExpanded(t)})},_rootPath:function(){return this.props.prefix+"."+this.props.label},keypath:function(){return this._rootPath().substr(Ws.length)},data:function(){return this.state.original||this.props.data},format:function(t){return V(Bs,{string:t,highlight:this.props.query})},getClassName:function(){var t="json-inspector__leaf";return this.props.root&&(t+=" json-inspector__leaf_root"),this.state.expanded&&(t+=" json-inspector__leaf_expanded"),ve(this.props.data)||(t+=" json-inspector__leaf_composite"),t},toggle:function(){this.setState({expanded:!this.state.expanded})},_onClick:function(t,e){this.toggle(),this.props.onClick(t),e.stopPropagation()},_onShowOriginalClick:function(t){this.setState({original:this.props.getOriginal(this.keypath())}),t.stopPropagation()},_isInitiallyExpanded:function(t){var e=this.keypath();return t.root?!0:t.query?!Le(e,t.query)&&typeof t.getOriginal=="function":t.isExpanded(e,t.data)}});function Hs(t){return t+(t===1?" item":" items")}function Us(t){return t+(t===1?" property":" properties")}function Vs(t,e){if(ve(e)){var n=Fs(String(e));return t+":"+n}else return t+"["+fn(e)+"]"}function Le(t,e){return t.indexOf(e)!==-1}var Ys=mn,gn=function(){},$s=u,Gs=Oe,Ks=$s.createElement,qs=gn,Xs=Gs({getDefaultProps:function(){return{onChange:qs}},render:function(){return Ks("input",{className:"json-inspector__search",type:"search",placeholder:"Search",onChange:this.onChange})},onChange:function(t){this.props.onChange(t.target.value)}}),xn=function(t){return Object.keys(t).length===0},Js=Object.keys,Qs=hn,Zs=xn,er=function(t,e){e||(e={cacheResults:!0});var n={};return function(s){if(!e.cacheResults)return be(t,s,e);var o;if(!n[s]){for(var a=s.length-1;a>0;a-=1)if(o=s.substr(0,a),n[o]){n[s]=be(n[o],s,e);break}}return n[s]||(n[s]=be(t,s,e)),n[s]}};function be(t,e,n){return Js(t).reduce(function(s,o){var a=t[o],i;return Qs(a)?(Fe(e,o,n)||Fe(e,a,n))&&(s[o]=a):Fe(e,o,n)?s[o]=a:(i=be(a,e,n),Zs(i)||Object.assign(s,tr(o,i))),s},{})}function Fe(t,e,n){if(e){var s=String(e),o=t;return n.ignoreCase&&(s=s.toLowerCase(),o=o.toLowerCase()),s.indexOf(o)!==-1}}function tr(t,e){var n={};return n[t]=e,n}var nr=ct,ze=".";function Je(t,e){var n=e.split(ze),s=n.shift();if(!s)return t;var o=nr(t);if(o==="Array"&&t[yt(s)])return Je(t[yt(s)],n.join(ze));if(o==="Object"&&t[s])return Je(t[s],n.join(ze))}function yt(t){return parseInt(t,10)}var or=Je,sr=u,rr=Oe,ar=Es,ie=sr.createElement,ir=Ys,cr=Xs,lr=er,dr=xn,ur=or,pr=gn,hr=rr({getDefaultProps:function(){return{data:null,search:cr,searchOptions:{debounceTime:0},className:"",id:"json-"+Date.now(),onClick:pr,filterOptions:{cacheResults:!0,ignoreCase:!1},validateQuery:function(t){return t.length>=2},isExpanded:function(t,e){return!1},verboseShowOriginal:!1}},getInitialState:function(){return{query:this.props.query||""}},render:function(){var t=this.props,e=this.state,n=e.query!==""&&t.validateQuery(e.query),s=n?e.filterer(e.query):t.data,o=n&&dr(s);return ie("div",{className:"json-inspector "+t.className},this.renderToolbar(),o?ie("div",{className:"json-inspector__not-found"},"Nothing found"):ie(ir,{data:s,onClick:t.onClick,id:t.id,getOriginal:this.getOriginal,query:n?new RegExp(e.query,t.filterOptions.ignoreCase?"i":""):null,label:"root",root:!0,isExpanded:t.isExpanded,interactiveLabel:t.interactiveLabel,verboseShowOriginal:t.verboseShowOriginal}))},renderToolbar:function(){var t=this.props.search;if(t)return ie("div",{className:"json-inspector__toolbar"},ie(t,{onChange:ar(this.search,this.props.searchOptions.debounceTime),data:this.props.data,query:this.state.query}))},search:function(t){this.setState({query:t})},componentWillMount:function(){this.createFilterer(this.props.data,this.props.filterOptions)},componentWillReceiveProps:function(t){this.createFilterer(t.data,t.filterOptions);var e=typeof t.query=="string"&&t.query!==this.state.query;e&&this.setState({query:t.query})},shouldComponentUpdate:function(t,e){return t.query!==this.props.query||e.query!==this.state.query||t.data!==this.props.data||t.onClick!==this.props.onClick},createFilterer:function(t,e){this.setState({filterer:lr(t,e)})},getOriginal:function(t){return ur(this.props.data,t)}});const fr=Ut(hr);var mr=function(t){if(!t)throw Error("hashlru must have a max value, of type number, greater than 0");var e=0,n=Object.create(null),s=Object.create(null);function o(a,i){n[a]=i,e++,e>=t&&(e=0,s=n,n=Object.create(null))}return{has:function(a){return n[a]!==void 0||s[a]!==void 0},remove:function(a){n[a]!==void 0&&(n[a]=void 0),s[a]!==void 0&&(s[a]=void 0)},get:function(a){var i=n[a];if(i!==void 0)return i;if((i=s[a])!==void 0)return o(a,i),i},set:function(a,i){n[a]!==void 0?n[a]=i:o(a,i)},clear:function(){n=Object.create(null),s=Object.create(null)}}};const gr=Ut(mr);var jt,_t,Pt,Et,It,St,wt,Ct,Dt,Ot,Rt,Mt,Tt,kt;function H(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}const lt=t=>{const{actions:e,children:n,actionProps:s,onActionComplete:o}=t;return r.jsx(Zt,{onReset:o,hooks:e,args:s,children:n})},xr=t=>{const{badges:e,children:n,badgeProps:s,...o}=t;return r.jsx(Zt,{...o,hooks:e,args:s,children:n})},vr=[];function br(t){const{children:e,flatIndex:n,index:s,params:o,payload:a,siblingIndex:i}=t,{navigate:l,navigateIntent:c}=Qe(),d=Ze(),f=u.useMemo(()=>(d==null?void 0:d.panes)||vr,[d==null?void 0:d.panes]),h=s-1,b=u.useCallback(v=>{const g=f[h]||[],P=g[i],m=v(g,P),p=[...f.slice(0,h),m,...f.slice(h+1)],x={...d||{},panes:p};return setTimeout(()=>l(x),0),x},[h,l,f,d,i]),j=u.useCallback(v=>{b((g,P)=>[...g.slice(0,i),{...P,payload:v},...g.slice(i+1)])},[b,i]),y=u.useCallback(v=>{b((g,P)=>[...g.slice(0,i),{...P,params:v},...g.slice(i+1)])},[b,i]),E=u.useCallback(v=>{let{id:g,parentRefPath:P,type:m,template:p}=v;l({panes:[...f.slice(0,h+1),[{id:g,params:{template:p.id,parentRefPath:ao(P),type:m},payload:p.params}]]})},[h,l,f]),S=u.useMemo(()=>({index:n,groupIndex:h,siblingIndex:i,payload:a,params:o,hasGroupSiblings:f[h]?f[h].length>1:!1,groupLength:f[h]?f[h].length:0,routerPanesState:f,ChildLink:io,BackLink:co,ReferenceChildLink:lo,handleEditReference:E,ParameterizedLink:uo,replaceCurrent:function(){let v=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};b(()=>[{id:v.id||"",payload:v.payload,params:v.params||{}}])},closeCurrent:()=>{b((v,g)=>v.length>1?v.filter(P=>P!==g):v)},duplicateCurrent:v=>{b((g,P)=>{const m={...P,payload:(v==null?void 0:v.payload)||P.payload,params:(v==null?void 0:v.params)||P.params};return[...g.slice(0,i),m,...g.slice(i)]})},setView:v=>{const g=en(o,"view");return y(v?{...g,view:v}:g)},setParams:y,setPayload:j,navigateIntent:c}),[n,h,E,b,c,o,a,f,y,j,i]);return r.jsx(po.Provider,{value:S,children:e})}function yr(t,e,n,s){var o,a;const i={flex:t.left.flex+t.right.flex,width:t.left.width+t.right.width},l=(o=e.minWidth)!=null?o:qe,c=(a=n.minWidth)!=null?a:qe,d=Math.min(e.maxWidth||1/0,i.width-c),f=Math.min(n.maxWidth||1/0,i.width-l);let h=l-t.left.width;const b=t.right.width-f;h<b&&(h=b);let j=t.right.width-c;const y=d-t.left.width;j>y&&(j=y);const E=Math.min(Math.max(s,h),j),S=t.left.width+E,v=t.right.width-E,g=S/i.width*i.flex,P=v/i.width*i.flex;return{leftFlex:g,leftW:S,rightFlex:P,rightW:v}}function jr(t,e){const n=[];let s=e;for(;s!==t;){const o=s.parentElement;if(!o)return n;const i=Array.from(o.childNodes).indexOf(s);if(n.unshift(i),o===t)return n;s=o}return n}const Nt=[];function _r(t,e){const n=new WeakMap;for(const o of e)n.set(o,jr(t,o));const s=(o,a)=>{const i=n.get(o)||Nt,l=n.get(a)||Nt,c=Math.max(i.length,l.length);for(let d=0;d<c;d+=1){const f=i[d]||-1,h=l[d]||-1;if(f!==h)return f-h}return 0};e.sort(s)}function Pr(){const t=[],e=[],n=new WeakMap,s=new Set,o={};let a=null,i=0,l=null,c=new Map,d=!1;function f(g){s.add(g),l===g&&(l=null),v()}function h(g){s.delete(g),l=g,v()}function b(g,P){return n.set(g,{...P,original:P}),e.push(g),a&&_r(a,e),h(g),()=>{const m=e.indexOf(g);m>-1&&e.splice(m,1),n.delete(g),v()}}function j(g,P,m){var p,x,w,_;const I=e.indexOf(P),C=n.get(P);if(!C)return;const T=e[I+1],R=n.get(T);if(R){if(g==="start"&&(d=!0,o.left={element:P,flex:C.flex||1,width:P.offsetWidth},o.right={element:T,flex:R.flex||1,width:T.offsetWidth},v()),g==="move"&&o.left&&o.right){c=new Map;const{leftW:O,rightW:k,leftFlex:J,rightFlex:re}=yr(o,C,R,m);c.set(P,{flex:J,width:O}),c.set(T,{flex:re,width:k}),v()}if(g==="end"){d=!1;const O=c.get(P),k=c.get(T);n.set(P,{...C,currentMinWidth:0,currentMaxWidth:(p=C.maxWidth)!=null?p:1/0,flex:(x=O==null?void 0:O.flex)!=null?x:C.flex}),n.set(T,{...R,currentMinWidth:0,currentMaxWidth:(w=C.maxWidth)!=null?w:1/0,flex:(_=k==null?void 0:k.flex)!=null?_:R.flex}),c=new Map,delete o.left,delete o.right,v()}}}function y(g){a=g}function E(g){i=g,v()}function S(g){return t.push(g),()=>{const P=t.push(g);P>-1&&t.splice(P,1)}}return{collapse:f,expand:h,mount:b,resize:j,setRootElement:y,setRootWidth:E,subscribe:S};function v(){var g,P,m,p;if(!i)return;const x=[];for(const O of e)O!==l&&x.unshift(O);l&&x.unshift(l);const w=new WeakMap,_=x.length,I=x[0],C=(_-1)*Ae;let T=i-C;for(const O of x){const k=n.get(O);if(!k)continue;const J=k.currentMinWidth||k.minWidth||qe,re=O===I,Te=s.has(O),pe=J>T,he=re?!1:Te||pe,Q=c.get(O);w.set(O,{element:O,collapsed:he,currentMinWidth:(g=Q==null?void 0:Q.width)!=null?g:k.currentMinWidth,currentMaxWidth:(P=Q==null?void 0:Q.width)!=null?P:k.currentMaxWidth,flex:(p=(m=Q==null?void 0:Q.flex)!=null?m:k.flex)!=null?p:1}),he?T-=Ae:T-=J-Ae}const R=[];for(const O of e){const k=w.get(O);k&&R.push(k)}for(const O of t)O({expandedElement:l||e[e.length-1]||null,panes:R,resizing:d})}}function Er(t){const{children:e,minWidth:n,onCollapse:s,onExpand:o,...a}=t,i=u.useMemo(()=>Pr(),[]),[l,c]=u.useState(null),d=Ce(l),f=(d==null?void 0:d.width)||0,h=f===void 0||!n?void 0:f<n,[b,j]=u.useState({expandedElement:null,panes:[],resizing:!1});u.useEffect(()=>i.setRootElement(l),[i,l]),u.useEffect(()=>i.setRootWidth(f),[i,f]),u.useEffect(()=>i.subscribe(j),[i]),u.useEffect(()=>{h!==void 0&&(h&&s&&s(),!h&&o&&o())},[h,s,o]);const y=u.useMemo(()=>({collapse:i.collapse,collapsed:h,expand:i.expand,expandedElement:b.expandedElement,mount:i.mount,panes:b.panes,resize:i.resize,resizing:b.resizing}),[h,i,b.expandedElement,b.panes,b.resizing]);return r.jsx(ho.Provider,{value:y,children:r.jsx(fo,{"data-ui":"PaneLayout",...a,"data-collapsed":h?"":void 0,"data-resizing":b.resizing?"":void 0,"data-mounted":f?"":void 0,ref:c,children:e})})}function Ir(t){const{documentId:e,documentType:n,flex:s}=t,{collapsed:o}=tt(),{closeInspector:a,inspector:i}=B(),{features:l}=oe(),c=u.useCallback(()=>{i&&a(i.name)},[a,i]);if(o||!i)return null;const d=u.createElement(i.component,{onClose:c,documentId:e,documentType:n});return l.resizablePanes?r.jsx(Co,{as:"aside","data-ui":"DocumentInspectorPanel",flex:s,maxWidth:Do,minWidth:$e,children:d}):r.jsx(D,{as:"aside","data-ui":"DocumentInspectorPanel",flex:s,children:d})}var Sr=Object.defineProperty,wr=(t,e,n)=>e in t?Sr(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Be=(t,e,n)=>(wr(t,typeof e!="symbol"?e+"":e,n),n);class ne extends Error{constructor(e){let{message:n,context:s,helpId:o,cause:a}=e;super(n),Be(this,"cause"),Be(this,"context"),Be(this,"helpId"),this.context=s,this.helpId=o,this.cause=a}}const At=new WeakMap;function Me(t){const e=At.get(t);if(e)return e;const n=cs();return At.set(t,n),n}const Lt=new WeakMap;function vn(t,e){const n=Lt.get(t)||new Map;if(n){const a=n.get(e);if(a)return a}const s=t[e];if(typeof s!="function")throw new Error("Expected property `".concat(e,"` to be a function but got ").concat(typeof s," instead."));const o=s.bind(t);return n.set(e,o),Lt.set(t,n),o}const Cr=t=>!!t&&typeof(t==null?void 0:t.then)=="function",Dr=t=>le(t)?typeof t.serialize=="function":!1,Or=t=>(e,n,s)=>{try{return t(e,n,s)}catch(o){throw o instanceof ne?o:new ne({message:typeof(o==null?void 0:o.message)=="string"?o.message:"",context:n,cause:o})}},Rr=t=>function(){return t(...arguments).pipe(ls(1),ds())};function bn(t){const e=Or(Rr(t((n,s,o)=>{if(!n)throw new ne({message:"Pane returned no child",context:s,helpId:"structure-item-returned-no-child"});return Cr(n)||ns(n)?os(n).pipe(rt(a=>e(a,s,o))):Dr(n)?e(n.serialize(s),s,o):typeof n=="function"?e(n(s.id,s),s,o):q(n)})));return e}async function Mr(t){const e=new Map,s=bn(c=>(d,f,h)=>{const b=d&&"".concat(Me(d),"-").concat(f.path.join("__")),j=b&&e.get(b);if(j)return j;const y=c(d,f,h);return b&&e.set(b,y),y}),o=[[{id:"__edit__".concat(t.params.id),params:{...en(t.params,["id"]),type:t.params.type},payload:t.payload}]];async function a(c){let{currentId:d,flatIndex:f,intent:h,params:b,parent:j,path:y,payload:E,unresolvedPane:S,levelIndex:v,structureContext:g}=c;var P;if(!S)return[];const{id:m,type:p,...x}=b,_=await pn(s(S,{id:d,splitIndex:0,parent:j,path:y,index:f,params:{},payload:void 0,structureContext:g},f));return _.type==="document"&&_.id===m?[{panes:[...y.slice(0,y.length-1).map(I=>[{id:I}]),[{id:m,params:x,payload:E}]],depthIndex:y.length,levelIndex:v}]:(P=_.canHandleIntent)!=null&&P.call(_,h,b,{pane:_,index:f})||_.type==="documentList"&&_.schemaTypeName===p&&_.options.filter==="_type == $type"?[{panes:[...y.map(I=>[{id:I}]),[{id:b.id,params:x,payload:E}]],depthIndex:y.length,levelIndex:v}]:_.type==="list"&&_.child&&_.items?(await Promise.all(_.items.map((I,C)=>I.type==="divider"?Promise.resolve([]):a({currentId:I._id||I.id,flatIndex:f+1,intent:h,params:b,parent:_,path:[...y,I.id],payload:E,unresolvedPane:typeof _.child=="function"?vn(_,"child"):_.child,levelIndex:C,structureContext:g})))).flat():[]}const l=(await a({currentId:"root",flatIndex:0,levelIndex:0,intent:t.intent,params:t.params,parent:null,path:[],payload:t.payload,unresolvedPane:t.rootPaneNode,structureContext:t.structureContext})).sort((c,d)=>c.depthIndex===d.depthIndex?c.levelIndex-d.levelIndex:c.depthIndex-d.depthIndex)[0];return l?l.panes:o}const Tr=(t,e)=>{const n=t.replace(/^__edit__/,""),{params:s,payload:o,structureContext:{resolveDocumentNode:a}}=e,{type:i,template:l}=s;if(!i)throw new Error("Document type for document with ID ".concat(n," was not provided in the router params."));let c=a({schemaType:i,documentId:n}).id("editor");return l&&(c=c.initialValueTemplate(l,o)),c.serialize()};function kr(t){var e,n;return"contextHash(".concat(JSON.stringify({id:t.id,parentId:parent&&Me(parent),path:t.path,index:t.index,splitIndex:t.splitIndex,serializeOptionsIndex:(e=t.serializeOptions)==null?void 0:e.index,serializeOptionsPath:(n=t.serializeOptions)==null?void 0:n.path}),")")}const Ft=t=>{const e={type:t.type,id:t.routerPaneSibling.id,params:t.routerPaneSibling.params||{},payload:t.routerPaneSibling.payload||null,flatIndex:t.flatIndex,groupIndex:t.groupIndex,siblingIndex:t.siblingIndex,path:t.path,paneNode:t.type==="resolvedMeta"?Me(t.paneNode):null};return"metaHash(".concat(JSON.stringify(e),")")};function ye(t){let{unresolvedPane:e,flattenedRouterPanes:n,parent:s,path:o,resolvePane:a,structureContext:i}=t;const[l,...c]=n,d=c[0],f={id:l.routerPaneSibling.id,splitIndex:l.siblingIndex,parent:s,path:[...o,l.routerPaneSibling.id],index:l.flatIndex,params:l.routerPaneSibling.params||{},payload:l.routerPaneSibling.payload,structureContext:i};try{return a(e,f,l.flatIndex).pipe(rt(h=>{const b={type:"resolvedMeta",...l,paneNode:h,path:f.path},j=c.map((E,S)=>({type:"loading",path:[...f.path,...c.slice(S).map((P,m)=>"[".concat(E.flatIndex+m,"]"))],paneNode:null,...E}));if(!c.length)return q([b]);let y;return d!=null&&d.routerPaneSibling.id.startsWith("__edit__")?y=ye({unresolvedPane:Tr,flattenedRouterPanes:c,parent:s,path:f.path,resolvePane:a,structureContext:i}):l.groupIndex===(d==null?void 0:d.groupIndex)?y=ye({unresolvedPane:e,flattenedRouterPanes:c,parent:s,path:o,resolvePane:a,structureContext:i}):y=ye({unresolvedPane:typeof h.child=="function"?vn(h,"child"):h.child,flattenedRouterPanes:c,parent:h,path:f.path,resolvePane:a,structureContext:i}),nn(q([b,...j]),y.pipe(K(E=>[b,...E])))}))}catch(h){if(h instanceof ne&&(h.context&&console.warn("Pane resolution error at index ".concat(h.context.index).concat(h.context.splitIndex>0?" for split pane index ".concat(h.context.splitIndex):"",": ").concat(h.message).concat(h.helpId?" - see ".concat(an(h.helpId)):""),h),h.helpId==="structure-item-returned-no-child"))return q([]);throw h}}function Nr(t){let{routerPanesStream:e,rootPaneNode:n,initialCacheState:s={cacheKeysByFlatIndex:[],flattenedRouterPanes:[],resolvedPaneCache:new Map,resolvePane:()=>ss},structureContext:o}=t;return e.pipe(K(i=>[[{id:"root"}],...i]),K(i=>i.flatMap((c,d)=>c.map((f,h)=>({routerPaneSibling:f,groupIndex:d,siblingIndex:h}))).map((c,d)=>({...c,flatIndex:d}))),Oo([]),us(),K(i=>{let[l,c]=i;for(let d=0;d<c.length;d++){const f=l[d],h=c[d];if(!We(f,h))return{flattenedRouterPanes:c,diffIndex:d}}return{flattenedRouterPanes:c,diffIndex:c.length}}),ht((i,l)=>{const{cacheKeysByFlatIndex:c,resolvedPaneCache:d}=i,{flattenedRouterPanes:f,diffIndex:h}=l,b=c.slice(0,h+1),j=c.slice(h+1),y=new Set(b.flatMap(v=>Array.from(v))),E=j.flatMap(v=>Array.from(v)).filter(v=>!y.has(v));for(const v of E)d.delete(v);return{flattenedRouterPanes:f,cacheKeysByFlatIndex:c,resolvedPaneCache:d,resolvePane:bn(v=>(g,P,m)=>{const p=g&&"".concat(Me(g),"-").concat(kr(P)),x=p&&d.get(p);if(x)return x;const w=v(g,P,m);if(!p)return w;const _=c[m]||new Set;return _.add(p),c[m]=_,d.set(p,w),w})}},s),rt(i=>{let{flattenedRouterPanes:l,resolvePane:c}=i;return ye({unresolvedPane:n,flattenedRouterPanes:l,parent:null,path:[],resolvePane:c,structureContext:o})})).pipe(ht((i,l)=>l.map((c,d)=>{const f=i[d];return!f||c.type!=="loading"?c:f.routerPaneSibling.id===c.routerPaneSibling.id?f:c}),[]),Ro((i,l)=>{if(i.length!==l.length)return!1;for(let c=0;c<l.length;c++){const d=i[c],f=l[c];if(Ft(d)!==Ft(f))return!1}return!0}))}function Ar(){const t=u.useMemo(()=>new Mo(1),[]),e=u.useMemo(()=>t.asObservable().pipe(K(s=>(s==null?void 0:s.panes)||[])),[t]),{state:n}=Qe();return u.useEffect(()=>{t.next(n)},[n,t]),e}function Lr(){const[t,e]=u.useState();if(t)throw t;const{structureContext:n,rootPaneNode:s}=oe(),[o,a]=u.useState({paneDataItems:[],resolvedPanes:[],routerPanes:[]}),i=Ar();return u.useEffect(()=>{const c=Nr({rootPaneNode:s,routerPanesStream:i,structureContext:n}).pipe(K(d=>{const f=d.reduce((j,y)=>{const E=j[y.groupIndex]||[];return E[y.siblingIndex]=y.routerPaneSibling,j[y.groupIndex]=E,j},[]),h=f.length,b=d.map(j=>{var y;const{groupIndex:E,flatIndex:S,siblingIndex:v,routerPaneSibling:g,path:P}=j,m=g.id,p=f[E+1];return{active:E===h-2,childItemId:(y=p==null?void 0:p[0].id)!=null?y:null,index:S,itemId:g.id,groupIndex:E,key:"".concat(j.type==="loading"?"unknown":j.paneNode.id,"-").concat(m,"-").concat(v),pane:j.type==="loading"?Ve:j.paneNode,params:g.params||{},path:P.join(";"),payload:g.payload,selected:S===d.length-1,siblingIndex:v}});return{paneDataItems:b,routerPanes:f,resolvedPanes:b.map(j=>j.pane)}})).subscribe({next:d=>a(d),error:d=>e(d)});return()=>c.unsubscribe()},[s,i,n]),o}async function Fr(t,e,n){if(e&&n)return{id:e,type:n};if(!e&&n)return{id:To(),type:n};if(e&&!n){const s=await pn(t.resolveTypeForDocument(e));return{id:e,type:s}}throw new ne({message:"Neither document `id` or `type` was provided when trying to resolve intent."})}const zr={},Br=u.memo(function(){const{navigate:e}=Qe(),n=Ze(u.useCallback(c=>{const d=typeof c.intent=="string"?c.intent:void 0;return d?{intent:d,params:le(c.params)?c.params:zr,payload:c.payload}:void 0},[])),{rootPaneNode:s,structureContext:o}=oe(),a=Vt(),[i,l]=u.useState(null);if(i)throw i;return u.useEffect(()=>{if(n){const{intent:c,params:d,payload:f}=n;let h=!1;async function b(){const{id:j,type:y}=await Fr(a,typeof d.id=="string"?d.id:void 0,typeof d.type=="string"?d.type:void 0);if(h)return;const E=await Mr({intent:c,params:{...d,id:j,type:y},payload:f,rootPaneNode:s,structureContext:o});h||e({panes:E},{replace:!0})}return b().catch(l),()=>{h=!0}}},[a,n,e,s,o]),null}),Wr=W.span(jt||(jt=H([`
  &:not(:last-child)::after {
    content: ' ➝ ';
    opacity: 0.5;
  }
`])));function Hr(t){return t.replace(/\(\.\.\.\)\./g,`(...)
  .`).replace(/__WEBPACK_IMPORTED_MODULE_\d+_+/g,"").replace(/___default\./g,".").replace(new RegExp(" \\(https?:\\/\\/".concat(window.location.host),"g")," (")}function Ur(t){let{error:e}=t;if(!(e instanceof ne))throw e;const{cause:n}=e,s=(n==null?void 0:n.stack)||e.stack,o=s&&!(n instanceof Ne)&&!e.message.includes("Module build failed:"),a=n instanceof Ne?n.path:[],i=n instanceof Ne&&n.helpId||e.helpId,l=u.useCallback(()=>{window.location.reload()},[]);return r.jsx(X,{height:"fill",overflow:"auto",padding:4,sizing:"border",tone:"critical",children:r.jsxs(de,{children:[r.jsx(ko,{as:"h2",children:"Encountered an error while reading structure"}),r.jsxs(X,{marginTop:4,padding:4,radius:2,overflow:"auto",shadow:1,tone:"inherit",children:[a.length>0&&r.jsxs(G,{space:2,children:[r.jsx(ft,{children:"Structure path"}),r.jsx(Ge,{children:a.slice(1).map((c,d)=>r.jsx(Wr,{children:c},"".concat(c,"-").concat(d)))})]}),r.jsxs(G,{marginTop:4,space:2,children:[r.jsx(ft,{children:"Error"}),r.jsx(Ge,{children:o?Hr(s):e.message})]}),i&&r.jsx(D,{marginTop:4,children:r.jsx(M,{children:r.jsx("a",{href:an(i),rel:"noopener noreferrer",target:"_blank",children:"View documentation"})})}),r.jsx(D,{marginTop:4,children:r.jsx(U,{text:"Reload",icon:Gt,tone:"primary",onClick:l})})]})]})})}function Vr(t){const{isSelected:e,pane:n,paneKey:s}=t,o=le(n)&&n.type||null;return r.jsxs(Ee,{id:s,selected:e,children:[r.jsx(nt,{title:"Unknown pane type"}),r.jsx(Ie,{children:r.jsx(D,{padding:4,children:typeof o=="string"?r.jsxs(M,{as:"p",muted:!0,children:["Structure item of type ",r.jsx("code",{children:o})," is not a known entity."]}):r.jsxs(M,{as:"p",muted:!0,children:["Structure item is missing required ",r.jsx("code",{children:"type"})," property."]})})})]})}function Yr(t){const e=[{ms:300,message:"Loading…"},{ms:5e3,message:"Still loading…"}],n=q(null);return No(...e.map(s=>{let{ms:o,message:a}=s;return n.pipe(Ao(a),Lo(o))}))}const $r="Loading…",Gr=W(N)(_t||(_t=H([`
  opacity: 0;
  transition: opacity 200ms;

  &[data-mounted] {
    opacity: 1;
  }
`]))),ce=u.memo(t=>{const{delay:e=300,flex:n,message:s=Yr,minWidth:o,paneKey:a,path:i,selected:l,title:c,tone:d}=t,f=u.useMemo(()=>typeof s=="function"?s(i?i.split(";"):[]):s,[s,i]),[h,b]=u.useState(()=>typeof f=="string"?f:$r);u.useEffect(()=>{if(typeof f!="object"||typeof f.subscribe=="function")return;const g=f.subscribe(b);return()=>g.unsubscribe()},[f]);const[j,y]=u.useState(null),[E,S]=u.useState(!1);u.useEffect(()=>{if(j)return Rn(()=>S(!0))},[j]);const v=r.jsxs(Gr,{align:"center","data-mounted":E?"":void 0,direction:"column",height:"fill",justify:"center",ref:y,children:[r.jsx(tn,{muted:!0}),(c||h)&&r.jsx(D,{marginTop:3,children:r.jsx(M,{align:"center",muted:!0,size:1,children:c||h})})]});return r.jsx(Ee,{flex:n,id:a,minWidth:o,selected:l,tone:d,children:r.jsx(Ie,{children:v})})});ce.displayName="LoadingPane";const Kr={component:u.lazy(()=>fe(()=>import("./index-8835ce52-d04053da.js"),["static/index-8835ce52-d04053da.js","static/sanity-cc7e1e54.js"])),document:u.lazy(()=>fe(()=>import("./index-bb78bf76-f5f2eb8d.js"),["static/index-bb78bf76-f5f2eb8d.js","static/sanity-cc7e1e54.js"])),documentList:u.lazy(()=>fe(()=>import("./index-8758d7a4-d59c5830.js"),["static/index-8758d7a4-d59c5830.js","static/sanity-cc7e1e54.js","static/PaneItem-0226d52e-5fcccef8.js"])),list:u.lazy(()=>fe(()=>import("./index-58d49cae-b0fbbeb4.js"),["static/index-58d49cae-b0fbbeb4.js","static/sanity-cc7e1e54.js","static/PaneItem-0226d52e-5fcccef8.js"]))},qr=u.memo(function(e){const{active:n,childItemId:s,groupIndex:o,index:a,itemId:i,pane:l,paneKey:c,params:d,payload:f,path:h,selected:b,siblingIndex:j}=e,y=Kr[l.type]||Vr;return r.jsx(br,{flatIndex:a,index:o,params:d,payload:f,siblingIndex:j,children:r.jsx(u.Suspense,{fallback:r.jsx(ce,{paneKey:c,path:h,selected:b}),children:r.jsx(y,{childItemId:s||"",index:a,itemId:i,isActive:n,isSelected:b,paneKey:c,pane:l})})})},(t,e)=>{let{params:n={},payload:s=null,...o}=t,{params:a={},payload:i=null,...l}=e;if(!We(n,a)||!We(s,i))return!1;const c=new Set([...Object.keys(o),...Object.keys(l)]);for(const d of c)if(o[d]!==l[d])return!1;return!0});function yn(t){const{children:e,currentMinWidth:n,flex:s,minWidth:o,paneKey:a,title:i="Error",tone:l="critical"}=t;return r.jsxs(Ee,{currentMinWidth:n,flex:s,id:a,minWidth:o,tone:l,children:[r.jsx(nt,{title:i}),r.jsx(Ie,{overflow:"auto",children:r.jsx(D,{paddingX:4,paddingY:5,children:e})})]})}function Xr(t){return t==="delete"?`An error occurred while attempting to delete this document.
      This usually means that there are other documents that refers to it.`:t==="unpublish"?`An error occurred while attempting to unpublish this document.
      This usually means that there are other documents that refers to it.`:"An error occurred during ".concat(t)}function Jr(t){return t==="publish"?"The document was published":t==="unpublish"?"The document was unpublished. A draft has been created from the latest published version.":t==="discardChanges"?"All changes since last publish has now been discarded. The discarded draft can still be recovered from history":t==="delete"?"The document was successfully deleted":"Successfully performed ".concat(t," on document")}const Qr=["patch","commit"],Zr=u.memo(function(){const{push:e}=et(),{documentId:n,documentType:s}=B(),o=Mn(n,s),a=u.useRef(o);return u.useEffect(()=>{!o||o===a.current||(o.type==="error"&&e({closable:!0,duration:3e4,status:"error",title:Xr(o.op),description:r.jsxs("details",{children:[r.jsx("summary",{children:"Details"}),o.error.message]})}),o.type==="success"&&!Qr.includes(o.op)&&e({closable:!0,status:"success",title:Jr(o.op)}),a.current=o)},[o,e]),null});function ea(t,e,n){const s=Tn(),[o,a]=u.useState(n),i=u.useMemo(()=>s.forNamespace("desk-tool"),[s]),l=u.useMemo(()=>t?i.forNamespace(t).forKey(e):i.forKey(e),[i,t,e]);u.useEffect(()=>{const d=l.listen(n).subscribe({next:a});return()=>d==null?void 0:d.unsubscribe()},[n,e,t,l]);const c=u.useCallback(d=>{a(d),l.set(d)},[l]);return u.useMemo(()=>[o,c],[c,o])}const Z={id:"parsed",title:"Parsed"},ee={id:"raw",title:"Raw JSON"},ta=[Z,ee],Pe=gr(1e3);function jn(t,e){const n=Pe.get(t);return n===void 0?(Pe.set(t,Array.isArray(e)||le(e)),jn(t,e)):n}function na(t){const{path:e}=t,n=Pe.get(e);n!==void 0&&Pe.set(e,!n)}function _n(t){const e=window.getSelection();if(e){const n=document.createRange();e.removeAllRanges(),n.selectNodeContents(t),e.addRange(n)}}function zt(t){_n(t.currentTarget)}function oa(t){t.keyCode===65&&(t.metaKey||t.ctrlKey)&&(t.preventDefault(),_n(t.currentTarget))}function sa(t){return le(t)&&mt(t._id)&&mt(t._type)}const ra=W.div(t=>{let{theme:e}=t;const{color:n,fonts:s,space:o}=e.sanity;return Yt(Pt||(Pt=H([`
    & .json-inspector,
    & .json-inspector .json-inspector__selection {
      font-family: `,`;
      font-size: `,`px;
      line-height: `,`px;
      color: var(--card-code-fg-color);
    }

    & .json-inspector .json-inspector__leaf {
      padding-left: `,`;
    }

    & .json-inspector .json-inspector__leaf.json-inspector__leaf_root {
      padding-top: `,`;
      padding-left: 0;
    }

    & .json-inspector > .json-inspector__leaf_root > .json-inspector__line > .json-inspector__key {
      display: none;
    }

    & .json-inspector .json-inspector__line {
      display: block;
      position: relative;
      cursor: default;
    }

    & .json-inspector .json-inspector__line::after {
      content: '';
      position: absolute;
      top: 0;
      left: -200px;
      right: -50px;
      bottom: 0;
      z-index: -1;
      pointer-events: none;
    }

    & .json-inspector .json-inspector__line:hover::after {
      background: var(--card-code-bg-color);
    }

    & .json-inspector .json-inspector__leaf_composite > .json-inspector__line {
      cursor: pointer;
    }

    & .json-inspector .json-inspector__leaf_composite > .json-inspector__line::before {
      content: '▸ ';
      margin-left: calc(0 - `,` + 3px);
      font-size: `,`px;
      line-height: `,`px;
    }

    &
      .json-inspector
      .json-inspector__leaf_expanded.json-inspector__leaf_composite
      > .json-inspector__line::before {
      content: '▾ ';
      font-size: `,`px;
      line-height: `,`px;
    }

    & .json-inspector .json-inspector__radio,
    & .json-inspector .json-inspector__flatpath {
      display: none;
    }

    & .json-inspector .json-inspector__value {
      margin-left: `,`;
    }

    &
      .json-inspector
      > .json-inspector__leaf_root
      > .json-inspector__line
      > .json-inspector__key
      + .json-inspector__value {
      margin: 0;
    }

    & .json-inspector .json-inspector__key {
      color: `,`;
    }

    & .json-inspector .json-inspector__value_helper,
    & .json-inspector .json-inspector__value_null {
      color: `,`;
    }

    & .json-inspector .json-inspector__not-found {
      padding-top: `,`;
    }

    & .json-inspector .json-inspector__value_string {
      color: `,`;
    }

    & .json-inspector .json-inspector__value_boolean {
      color: `,`;
    }

    & .json-inspector .json-inspector__value_number {
      color: `,`;
    }

    & .json-inspector .json-inspector__show-original {
      display: inline-block;
      padding: 0 6px;
      cursor: pointer;
    }

    & .json-inspector .json-inspector__show-original:hover {
      color: inherit;
    }

    & .json-inspector .json-inspector__show-original::before {
      content: '↔';
    }

    & .json-inspector .json-inspector__show-original:hover::after {
      content: ' expand';
    }
  `])),s.code.family,s.code.sizes[2].fontSize,s.code.sizes[2].lineHeight,ae(o[4]),ae(o[3]),ae(o[4]),s.code.sizes[2].fontSize,s.code.sizes[2].lineHeight,s.code.sizes[2].fontSize,s.code.sizes[2].lineHeight,ae(o[4]/2),n.syntax.property,n.syntax.constant,ae(o[3]),n.syntax.string,n.syntax.boolean,n.syntax.number)});function aa(t){const{onChange:e,query:n}=t,s=u.useCallback(o=>e(o.target.value),[e]);return r.jsx(rs,{icon:as,onChange:s,placeholder:"Search",radius:2,value:n||""})}function ia(t){const{value:e}=t,{onInspectClose:n,paneKey:s}=B(),o="".concat(s,"_inspect_"),[a,i]=ea("desk-tool","inspect-view-preferred-view-mode-".concat(s),"parsed"),l=ta.find(f=>f.id===a),c=u.useCallback(()=>{i(Z.id)},[i]),d=u.useCallback(()=>{i(ee.id)},[i]);return r.jsx(at,{id:"".concat(o,"dialog"),header:sa(e)?r.jsxs(r.Fragment,{children:["Inspecting"," ",r.jsx("em",{children:r.jsx(Fo,{document:e})})]}):r.jsx("em",{children:"No value"}),onClose:n,onClickOutside:n,width:3,children:r.jsxs(N,{direction:"column",height:"fill",children:[r.jsx(X,{padding:3,shadow:1,style:{position:"sticky",bottom:0,zIndex:3},children:r.jsxs(on,{space:1,children:[r.jsx(Ye,{"aria-controls":"".concat(o,"tabpanel"),fontSize:1,id:"".concat(o,"tab-").concat(Z.id),label:Z.title,onClick:c,selected:l===Z}),r.jsx(Ye,{"aria-controls":"".concat(o,"tabpanel"),fontSize:1,id:"".concat(o,"tab-").concat(ee.id),label:ee.title,onClick:d,selected:l===ee})]})}),r.jsxs(zo,{"aria-labelledby":"".concat(o,"tab-").concat(a),flex:1,id:"".concat(o,"tabpanel"),overflow:"auto",padding:4,style:{outline:"none"},children:[l===Z&&r.jsx(ra,{children:r.jsx(fr,{data:e,isExpanded:jn,onClick:na,search:aa})}),l===ee&&r.jsx(Ge,{language:"json",tabIndex:0,onKeyDown:oa,onDoubleClick:zt,onFocus:zt,children:JSON.stringify(e,null,2)})]})]})})}const ca=W(X)(Et||(Et=H([`
  position: relative;
  z-index: 50;
`]))),Bt=W(M)(It||(It=H([`
  & > * {
    overflow: hidden;
    overflow: clip;
    white-space: nowrap;
    text-overflow: ellipsis;
  }
`]))),Pn=u.memo(()=>{var t,e,n,s,o,a;const i=kn(),{params:l,groupIndex:c,routerPanesState:d,replaceCurrent:f,BackLink:h}=Se(),b=(t=d[c])==null?void 0:t[0].id,j=d[c-1],y=j==null?void 0:j[0],E=y==null?void 0:y.id,S=!!((e=y==null?void 0:y.params)!=null&&e.rev),v=u.useMemo(()=>(l==null?void 0:l.parentRefPath)&&He(l.parentRefPath)||null,[l==null?void 0:l.parentRefPath]),g=Nn(()=>{const p=v==null?void 0:v[0];if(!E||!p||!v)return q({loading:!1});const x=mo(E),w=He(p),_=w.findIndex(I=>typeof I=="object"&&"_key"in I);return nn(q({loading:!0}),i.unstable_observePathsDocumentPair(x,_===-1?w:w.slice(0,_)).pipe(go(750),K(I=>{let{draft:C,published:T}=I;var R;return{loading:!1,result:{availability:{draft:C.availability,published:T.availability},refValue:(R=xo(C.snapshot||T.snapshot,v))==null?void 0:R._ref}}})))},[i,E,v],{loading:!0}),P=u.useCallback(()=>{var p;g.loading||(p=g.result)!=null&&p.refValue&&f({id:g.result.refValue,params:l})},[g.loading,g.result,f,l]);return!E||!v||S||g.loading||!((n=g.result)!=null&&n.availability.draft.available)&&!((s=g.result)!=null&&s.availability.published.available)||((o=g.result)==null?void 0:o.refValue)===b?null:r.jsx(ca,{shadow:1,tone:"caution","data-testid":"reference-changed-banner",children:r.jsx(de,{paddingX:4,paddingY:2,sizing:"border",width:1,children:r.jsxs(N,{align:"center",children:[r.jsx(M,{size:1,children:r.jsx($t,{})}),(a=g.result)!=null&&a.refValue?r.jsxs(r.Fragment,{children:[r.jsx(D,{flex:1,marginLeft:3,children:r.jsx(Bt,{title:"This reference has changed since you opened it.",size:1,children:"This reference has changed since you opened it."})}),r.jsx(D,{marginLeft:3,children:r.jsx(U,{onClick:P,icon:Gt,fontSize:1,mode:"ghost",padding:2,space:2,text:"Reload reference"})})]}):r.jsxs(r.Fragment,{children:[r.jsx(D,{flex:1,marginLeft:3,children:r.jsx(Bt,{title:"This reference has been removed since you opened it.",size:1,children:"This reference has been removed since you opened it."})}),r.jsx(D,{marginLeft:3,children:r.jsx(U,{as:h,icon:Ue,fontSize:1,mode:"ghost",padding:2,space:2,text:"Close reference"})})]})]})})})});Pn.displayName="ReferenceChangedBanner";const la=W(X)(St||(St=H([`
  position: relative;
  z-index: 50;
`])));function da(t){let{granted:e,requiredPermission:n}=t;var s,o;const a=Bo(),i=((s=a==null?void 0:a.roles)==null?void 0:s.length)!==1,l=ua(((o=a==null?void 0:a.roles)==null?void 0:o.map(c=>r.jsx("code",{children:c.title},c.name)))||[],", ");return e?null:r.jsx(la,{"data-testid":"permission-check-banner",shadow:1,tone:"transparent",children:r.jsx(de,{paddingX:4,paddingY:3,sizing:"border",width:1,children:r.jsxs(N,{align:"flex-start",children:[r.jsx(M,{size:1,children:r.jsx(Wo,{})}),r.jsx(D,{flex:1,marginLeft:3,children:r.jsxs(M,{size:1,children:["Your role",i&&"s"," ",l," ",i?"do":"does"," not have permissions to"," ",n," this document."]})})]})})})}function ua(t,e){return t.reduce((n,s)=>n===null?[s]:n.concat([e,s]),null)}function pa(t){const e=u.useRef();return u.useEffect(()=>{e.current=t},[t]),e.current}const ha=1e3*60*60*24*24;function fa(t){const e=et(),n=pa(t.enabled);u.useEffect(()=>{!n&&t.enabled&&e.push({...t,duration:ha}),n&&!t.enabled&&e.push({...t,duration:.01})},[t,e,n])}const ma=t=>t.preventDefault();function ga(t){var e;const{hidden:n,margins:s}=t,{collapsedFieldSets:o,collapsedPaths:a,displayed:i,editState:l,documentId:c,documentType:d,fieldActions:f,onChange:h,validation:b,ready:j,formState:y,onFocus:E,onBlur:S,onSetCollapsedPath:v,onPathOpen:g,onSetCollapsedFieldSet:P,onSetActiveFieldGroup:m}=B(),p=Vt(),x=Ho(c),w=u.useMemo(()=>Uo(),[]),_=(e=l==null?void 0:l.transactionSyncLock)==null?void 0:e.enabled;fa({id:"sync-lock-".concat(c),status:"warning",enabled:_,title:"Syncing document…",description:"Please hold tight while the document is synced. This usually happens right after the document has been published, and it shouldn't take more than a few seconds"}),u.useEffect(()=>{const T=p.pair.documentEvents(c,d).pipe(Vo(R=>{R.type==="mutation"&&w.publish(xa(R)),R.type==="rebase"&&w.publish(va(R))})).subscribe();return()=>{T.unsubscribe()}},[c,p,d,w]);const I=!!(i!=null&&i._rev);u.useEffect(()=>{I&&w.publish({type:"mutation",patches:[],snapshot:i})},[I]);const C=u.useRef(null);return u.useEffect(()=>{j&&!(y!=null&&y.focusPath.length)&&Yo(C.current)},[j]),r.jsx(de,{hidden:n,paddingX:4,paddingTop:5,paddingBottom:9,sizing:"border",width:1,children:r.jsx($o,{margins:s,children:r.jsx(D,{as:"form",onSubmit:ma,ref:C,children:j?y===null?r.jsx(D,{padding:2,children:r.jsx(M,{children:"This form is hidden"})}):r.jsx(Go,{__internal_fieldActions:f,__internal_patchChannel:w,collapsedFieldSets:o,collapsedPaths:a,focusPath:y.focusPath,changed:y.changed,focused:y.focused,groups:y.groups,id:"root",members:y.members,onChange:h,onFieldGroupSelect:m,onPathBlur:S,onPathFocus:E,onPathOpen:g,onSetFieldSetCollapsed:P,onSetPathCollapsed:v,presence:x,readOnly:y.readOnly,schemaType:y.schemaType,validation:b,value:y.value}):r.jsx(Ko,{ms:300,children:r.jsxs(N,{align:"center",direction:"column",height:"fill",justify:"center",children:[r.jsx(tn,{muted:!0}),r.jsx(D,{marginTop:3,children:r.jsx(M,{align:"center",muted:!0,size:1,children:"Loading document"})})]})})})})})}function xa(t){const e=t.mutations.map(n=>n.patch).filter(Boolean);return{type:"mutation",snapshot:t.document,patches:Ke(t.origin,e)}}function va(t){const e=t.remoteMutations.map(s=>s.patch).filter(Boolean),n=t.localMutations.map(s=>s.patch).filter(Boolean);return{type:"rebase",snapshot:t.document,patches:Ke("remote",e).concat(Ke("local",n))}}function ba(){const{activeViewId:t,paneKey:e,views:n}=B(),s="".concat(e,"tabpanel");return r.jsx(on,{space:1,children:n.map((o,a)=>{var i;return r.jsx(ya,{icon:o.icon,id:"".concat(e,"tab-").concat(o.id),isActive:t===o.id,label:r.jsx(r.Fragment,{children:o.title}),tabPanelId:s,viewId:a===0?null:(i=o.id)!=null?i:null},o.id)})})}function ya(t){const{isActive:e,tabPanelId:n,viewId:s}=t,{ready:o}=B(),{setView:a}=Se(),i=u.useCallback(()=>a(s),[a,s]);return r.jsx(Ye,{...t,"aria-controls":n,disabled:!o,fontSize:1,selected:e,onClick:i})}function ja(){const{connectionState:t,schemaType:e,title:n,value:s}=B(),o=!!s&&t==="connected",{error:a,value:i}=vo({enabled:o,schemaType:e,value:s});return t!=="connected"?r.jsx(r.Fragment,{}):n?r.jsx(r.Fragment,{children:n}):s?a?r.jsxs(r.Fragment,{children:["Error: ",a.message]}):r.jsx(r.Fragment,{children:(i==null?void 0:i.title)||r.jsx("span",{style:{color:"var(--card-muted-fg-color)"},children:"Untitled"})}):r.jsxs(r.Fragment,{children:["New ",(e==null?void 0:e.title)||(e==null?void 0:e.name)]})}const _a=u.memo(u.forwardRef(function(e,n){const{onMenuAction:s,onPaneClose:o,onPaneSplit:a,menuItems:i,menuItemGroups:l,schemaType:c,timelineStore:d,ready:f,views:h,unstable_languageFilter:b}=B(),{features:j}=oe(),{index:y,BackLink:E,hasGroupSiblings:S}=Se(),{actions:v}=An(),g=u.useMemo(()=>Ln({actionHandler:s,fieldActions:v,menuItems:i,menuItemGroups:l}),[s,v,l,i]),P=u.useMemo(()=>g.filter(Fn),[g]),m=u.useMemo(()=>g.filter(zn),[g]),p=h.length>1,x=we(d,O=>O.revTime),{collapsed:w,isLast:_}=tt(),I=_&&!w?-1:0,C=j.splitViews&&a&&h.length>1,T=C&&S,R=!T&&!j.backButton;return r.jsx(nt,{ref:n,loading:!f,title:r.jsx(ja,{}),tabs:p&&r.jsx(ba,{}),tabIndex:I,backButton:j.backButton&&y>0&&r.jsx(U,{as:E,"data-as":"a",icon:Bn,mode:"bleed",padding:2}),subActions:r.jsx(Wn,{chunk:x,mode:"rev",placement:"bottom-end"}),actions:r.jsxs(N,{align:"center",gap:1,children:[b.length>0&&r.jsx(r.Fragment,{children:b.map((O,k)=>u.createElement(O,{key:"language-filter-".concat(k),schemaType:c}))}),P.map(O=>r.jsx(Hn,{node:O},O.key)),r.jsx(Un,{nodes:m},"context-menu"),C&&r.jsx(se,{content:r.jsx(M,{size:1,style:{whiteSpace:"nowrap"},children:"Split pane right"}),padding:2,placement:"bottom",portal:!0,children:r.jsx(U,{"aria-label":"Split pane right",icon:Vn,mode:"bleed",onClick:a},"split-pane-button")}),T&&r.jsx(U,{icon:Ue,mode:"bleed",onClick:o,title:"Close split pane"},"close-view-button"),R&&r.jsx(U,{icon:Ue,mode:"bleed",title:"Close pane group",as:E},"close-view-button")]})})})),Pa=W(D)({position:"relative"}),Ea=W(Yn)(t=>{let{$disabled:e}=t;return e?{height:"100%"}:Yt(wt||(wt=H([`
    height: 100%;
    overflow: auto;
    position: relative;
    scroll-behavior: smooth;
    outline: none;
  `])))}),Ia=function(e){const{footerHeight:n,isInspectOpen:s,rootElement:o,setDocumentPanelPortalElement:a}=e,{activeViewId:i,displayed:l,documentId:c,editState:d,inspector:f,value:h,views:b,ready:j,schemaType:y,permissions:E,isPermissionsLoading:S}=B(),{collapsed:v}=Xt(),{collapsed:g}=tt(),P=sn(),{features:m}=oe(),[p,x]=u.useState(null),w=Ce(p),_=u.useRef(null),[I,C]=u.useState(null),T=h._createdAt?"update":"create",R=u.useMemo(()=>b.find(he=>he.id===i)||b[0]||{type:"form"},[i,b]),O=m.splitPanes&&_.current||P.element,k=u.useMemo(()=>v?[(w==null?void 0:w.height)||0,0,n?n+2:2,0]:[0,0,2,0],[v,n,w]),J=R.type!=="form",re=u.useMemo(()=>R.type==="component"&&R.component&&u.createElement(R.component,{document:{draft:(d==null?void 0:d.draft)||null,displayed:l||h,historical:l,published:(d==null?void 0:d.published)||null},documentId:c,options:R.options,schemaType:y}),[R,l,c,d==null?void 0:d.draft,d==null?void 0:d.published,y,h]);u.useEffect(()=>{I!=null&&I.scrollTo&&I.scrollTo(0,0)},[c,I]),u.useEffect(()=>{O&&a(O)},[O,a]);const Te=u.useMemo(()=>s?r.jsx(ia,{value:l||h}):null,[s,l,h]),pe=!!(!g&&f);return r.jsxs(r.Fragment,{children:[r.jsx(_a,{ref:x}),r.jsx(Ie,{children:r.jsxs(N,{height:"fill",children:[(m.resizablePanes||!pe)&&r.jsx(Pa,{flex:2,overflow:"hidden",children:r.jsx(De,{element:O,__unstable_elements:{documentScrollElement:I},children:r.jsx(pt,{element:I,children:r.jsxs(bo,{scrollElement:I,children:[R.type==="form"&&!S&&j&&r.jsxs(r.Fragment,{children:[r.jsx(da,{granted:!!(E!=null&&E.granted),requiredPermission:T}),r.jsx(Pn,{})]}),r.jsxs(Ea,{$disabled:v||!1,"data-testid":"document-panel-scroller",ref:C,children:[r.jsx(ga,{hidden:J,margins:k},c+(j?"_ready":"_pending")),re]}),Te,r.jsx("div",{"data-testid":"document-panel-portal",ref:_})]})})})}),pe&&r.jsx(pt,{element:o,children:r.jsx(Ir,{documentId:c,documentType:y.name,flex:1})})]})})]})},En=["left","bottom"],Sa={small:0,medium:1,large:2,full:"auto"};function wa(t){const{dialog:e,referenceElement:n}=t;return r.jsx(cn,{content:r.jsx(Ca,{dialog:e}),fallbackPlacements:En,open:!0,placement:"top",portal:!0,preventOverflow:!0,referenceElement:n})}function Ca(t){const{dialog:e}=t,{cancelButtonIcon:n,cancelButtonText:s,confirmButtonIcon:o,confirmButtonText:a,message:i,onCancel:l,onConfirm:c,tone:d}=e,{isTopLayer:f}=ln(),[h,b]=u.useState(null),j=u.useCallback(()=>{f&&l()},[f,l]),y=u.useCallback(E=>{E.key==="Escape"&&f&&l()},[f,l]);return dn(j,[h]),un(y),r.jsxs(N,{direction:"column",ref:b,style:{minWidth:320-16,maxWidth:400},children:[r.jsx(D,{flex:1,overflow:"auto",padding:4,children:r.jsx(M,{children:i})}),r.jsx(D,{paddingX:4,paddingY:3,style:{borderTop:"1px solid var(--card-border-color)"},children:r.jsxs(is,{columns:2,gap:2,children:[r.jsx(U,{icon:n,onClick:l,mode:"ghost",text:s||"Cancel"}),r.jsx(U,{icon:o,onClick:c,text:a||"Confirm",tone:d})]})})]})}function Da(t){const{dialog:e}=t,n=u.useId(),s=e.footer&&r.jsx(D,{paddingX:4,paddingY:3,children:e.footer});return r.jsx(st,{zOffset:"fullscreen",children:r.jsx(at,{__unstable_hideCloseButton:e.showCloseButton===!1,footer:s,header:e.header,id:n,onClose:e.onClose,onClickOutside:e.onClose,width:e.width===void 0?1:Sa[e.width],children:r.jsx(D,{padding:4,children:e.content})})})}function Oa(t){const{dialog:e,referenceElement:n}=t;return r.jsx(cn,{content:r.jsx(Ra,{dialog:e}),fallbackPlacements:En,open:!0,placement:"top",portal:!0,preventOverflow:!0,referenceElement:n})}function Ra(t){const{dialog:e}=t,{content:n,onClose:s}=e,{isTopLayer:o}=ln(),[a,i]=u.useState(null),l=u.useCallback(()=>{o&&s()},[o,s]),c=u.useCallback(d=>{d.key==="Escape"&&o&&s()},[o,s]);return dn(l,[a]),un(c),r.jsx("div",{ref:i,children:n})}function Wt(t){const{children:e}=t,{element:n,elements:s}=sn(),o=(s==null?void 0:s[Jt])||n;return r.jsx(De,{element:o,children:e})}function dt(t){const{dialog:e,referenceElement:n=null}=t,s=u.useId();if(e.type==="confirm")return r.jsx(wa,{dialog:e,referenceElement:n});if(e.type==="popover")return r.jsx(Oa,{dialog:e,referenceElement:n});if(e.type==="dialog"||!e.type)return r.jsx(Wt,{children:r.jsx(Da,{dialog:e})});if(e.type==="custom")return r.jsx(Wt,{children:e==null?void 0:e.component});const o=e;return console.warn("Unsupported modal type ".concat(o.type)),r.jsx(at,{id:s,onClose:o.onClose,onClickOutside:o.onClose,width:2,children:r.jsx(D,{padding:4,children:o.content||r.jsxs(r.Fragment,{children:["Unexpected modal type (",r.jsx("code",{children:o.type}),")"]})})})}function Ma(t){const{actionStates:e,disabled:n}=t,s=u.useId(),o=u.useRef(null),[a,i]=u.useState(-1),[l,c]=u.useState(null),d=u.useCallback(b=>{i(b)},[]),f=u.useMemo(()=>({placement:"top-end",portal:!0,preventOverflow:!0}),[]),h=e[a];return r.jsxs(r.Fragment,{children:[r.jsx(qo,{id:"".concat(s,"-action-menu"),button:r.jsx(U,{"data-testid":"action-menu-button","aria-label":"Open document actions",disabled:n,icon:Xo,mode:"ghost",ref:o}),menu:r.jsx(Jo,{padding:1,children:e.map((b,j)=>r.jsx(Ta,{actionState:b,disabled:n,index:j,onAction:d},j))}),popover:f,ref:c}),h&&h.dialog&&r.jsx(st,{zOffset:"paneFooter",children:r.jsx(dt,{dialog:h.dialog,referenceElement:l})})]})}function Ta(t){const{actionState:e,disabled:n,index:s,onAction:o}=t,{onHandle:a}=e,i=u.useCallback(()=>{o(s),a&&a()},[s,o,a]),l=e.title&&r.jsx(D,{padding:2,children:r.jsx(M,{size:1,children:e.title})});return r.jsx(Qo,{"data-testid":"action-".concat(e.label.replace(" ","")),disabled:n||!!e.disabled,onClick:i,padding:0,tone:e.tone,children:r.jsx(se,{content:l,disabled:!l,fallbackPlacements:["left","bottom"],placement:"top",portal:!0,children:r.jsxs(N,{align:"center",paddingX:3,children:[r.jsxs(N,{flex:1,paddingY:3,children:[e.icon&&r.jsx(D,{marginRight:3,children:r.jsxs(M,{children:[u.isValidElement(e.icon)&&e.icon,Zo.isValidElementType(e.icon)&&u.createElement(e.icon)]})}),r.jsx(M,{children:e.label})]}),e.shortcut&&r.jsx(D,{marginLeft:3,children:r.jsx(rn,{keys:String(e.shortcut).split("+").map(c=>c.slice(0,1).toUpperCase()+c.slice(1))})})]})})})}function In(t){const{disabled:e,showMenu:n,states:s}=t,[o,...a]=s,[i,l]=u.useState(null),c=u.useMemo(()=>!o||!o.title&&!o.shortcut?null:r.jsxs(N,{padding:2,style:{maxWidth:300},align:"center",children:[r.jsx(M,{size:1,children:o.title}),o.shortcut&&r.jsx(D,{marginLeft:o.title?2:0,children:r.jsx(rn,{keys:String(o.shortcut).split("+").map(d=>d.slice(0,1).toUpperCase()+d.slice(1).toLowerCase())})})]}),[o]);return r.jsxs(N,{children:[o&&r.jsx(yo,{zOffset:200,children:r.jsx(se,{disabled:!c,content:c,portal:!0,placement:"top",children:r.jsx(G,{flex:1,children:r.jsx(U,{"data-testid":"action-".concat(o.label),disabled:e||!!o.disabled,icon:o.icon,onClick:o.onHandle,ref:l,text:o.label,tone:o.tone||"primary"})})})}),n&&a.length>0&&r.jsx(D,{marginLeft:1,children:r.jsx(Ma,{actionStates:a,disabled:e})}),o&&o.dialog&&r.jsx(dt,{dialog:o.dialog,referenceElement:i})]})}const ka=u.memo(function(){const{actions:e,connectionState:n,documentId:s,editState:o}=B();return!e||!o?null:r.jsx(lt,{actions:e,actionProps:o,children:a=>{let{states:i}=a;return r.jsx(In,{disabled:n!=="connected",showMenu:e.length>1,states:i},s)}})}),Na=u.memo(function(){const{connectionState:e,editState:n,timelineStore:s}=B(),o=we(s,d=>d.revTime),a=(o==null?void 0:o.id)||"",i=((n==null?void 0:n.draft)||(n==null?void 0:n.published)||{})._rev===a,l=u.useMemo(()=>({...n||{},revision:a}),[n,a]),c=u.useMemo(()=>[$n],[]);return r.jsx(lt,{actions:c,actionProps:l,children:d=>{let{states:f}=d;return r.jsx(In,{disabled:e!=="connected"||!!i,showMenu:!1,states:f})}})}),Aa={primary:"primary",success:"positive",warning:"caution",danger:"critical"};function La(t){let{states:e}=t;return r.jsx(es,{space:1,children:e.map((n,s)=>r.jsx(se,{content:n.title&&r.jsx(D,{padding:2,children:r.jsx(M,{size:1,children:n.title})}),disabled:!n.title,placement:"top",portal:!0,children:r.jsx(ts,{fontSize:1,mode:"outline",paddingX:2,paddingY:1,radius:4,tone:n.color?Aa[n.color]:void 0,style:{whiteSpace:"nowrap"},children:n.label})},String(s)))})}function Fa(){const{badges:t,editState:e}=B();return!e||!t?null:r.jsx(xr,{badges:t,badgeProps:e,children:n=>{let{states:s}=n;return r.jsx(La,{states:s})}})}const za=W(N)(Ct||(Ct=H([`
  cursor: default;
`])));function Ba(t){const{collapsed:e,disabled:n,lastPublished:s,lastUpdated:o,liveEdit:a}=t,i=te(s||"",{minimal:!0,agoSuffix:!0}),l=te(s||"",{minimal:!0}),c=te(o||"",{minimal:!0,agoSuffix:!0}),d=te(o||"",{minimal:!0});return r.jsx(za,{align:"center","data-ui":"SessionLayout",sizing:"border",children:r.jsx(se,{placement:"top",portal:!0,content:r.jsx(G,{padding:3,space:3,children:r.jsx(M,{size:1,children:a?r.jsxs(r.Fragment,{children:["Last updated ",o?c:i]}):r.jsxs(r.Fragment,{children:["Last published ",i]})})}),children:r.jsx(U,{mode:"bleed",tone:a?"critical":"positive",tabIndex:-1,disabled:n,children:r.jsxs(N,{align:"center",children:[r.jsx(D,{marginRight:e?0:3,children:r.jsx(M,{size:2,children:a?r.jsx(jo,{}):r.jsx(_o,{})})}),!e&&r.jsx(M,{size:1,weight:"medium",children:a?r.jsx(r.Fragment,{children:o?d:l}):l})]})})})})}const Wa=W(ue.path)(Dt||(Dt=H([`
  transform-origin: center;
`]))),Ha=t=>r.jsx(ue.circle,{fill:"none",r:"8",cx:"12.5",cy:"12.5",strokeWidth:"1.2",...t}),Ua=t=>r.jsx(Wa,{fill:"none",d:"M14 17.5619L11.5 20.5L14.5 23.0619M11 7.43811L13.5 4.50001L10.5 1.93811",...t}),Va=t=>r.jsx(ue.path,{d:"M9.5 12.1316L11.7414 14.5L16 10",...t}),Ya=t=>r.jsx(ue.path,{d:"M15 7L18 10M6 19L7 15L17 5L20 8L10 18L6 19Z",...t}),$a=Gn(Ot||(Ot=H([`
  0% {
    transform: rotate(0);
  }
  100% {
    transform: rotate(360deg);
  }
`]))),Ga=W.g(Rt||(Rt=H([`
  transform-origin: center;

  &[data-rotate] {
    animation: `,` 1s ease-in-out infinite;
  }
`])),$a),Ka={syncing:{scale:1,transition:{duration:0}},saved:{scale:[1,.8,1.2,.9,1.1,.95,1.05,.99,1],transition:{duration:.5,delay:.2}},changes:{transition:{duration:0}}},qa={syncing:{strokeDasharray:"0, 0, 23, 3, 23, 3",strokeDashoffset:10,opacity:1,transition:{duration:0}},saved:{strokeDasharray:"0, 0, 23, 0, 23, 0",strokeDashoffset:10,opacity:1,transition:{duration:.2}},changes:{strokeDasharray:"0, 60, 23, 0, 23, 0",strokeDashoffset:0,opacity:0,transition:{duration:.5}}},Xa={syncing:{opacity:1,transition:{duration:0}},saved:{opacity:0,transition:{duration:.2}},changes:{opacity:0}},Ja={syncing:{pathLength:0,transition:{duration:0}},saved:{pathLength:1,transition:{delay:.4,duration:.3}},changes:{pathLength:0,transition:{duration:.2}}},Qa={syncing:{pathLength:0,transition:{duration:0}},saved:{pathLength:0,transition:{duration:0}},changes:{pathLength:1,transition:{duration:.4,delay:.5}}};function Za(t){const{status:e}=t;return e?r.jsx("svg",{width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",stroke:"currentColor",strokeWidth:"1.2","data-sanity-icon":"",children:r.jsxs(ue.g,{variants:Ka,initial:e,animate:e,children:[r.jsxs(Ga,{"data-rotate":e==="changes"?void 0:"",children:[r.jsx(Ua,{variants:Xa,initial:e,animate:e}),r.jsx(Ha,{variants:qa,initial:e,animate:e})]}),r.jsx(Va,{variants:Ja,initial:e,animate:e}),r.jsx(Ya,{variants:Qa,initial:e,animate:e})]})}):null}const ei=ot.forwardRef(function(e,n){const{collapsed:s,status:o,lastUpdated:a,...i}=e,l=te(a||"",{minimal:!0}),c=te(a||"",{minimal:!0,agoSuffix:!0}),d=u.useMemo(()=>o==="syncing"?{text:"Saving...",tone:void 0}:o==="changes"?{text:l,tone:"caution"}:o==="saved"?{text:"Saved!",tone:"positive"}:{},[o,l]);return o?r.jsx(se,{placement:"top",portal:!0,disabled:o!=="changes",content:r.jsxs(G,{padding:3,space:3,children:[r.jsx(M,{size:1,weight:"semibold",children:"Review changes"}),r.jsxs(M,{size:1,muted:!0,children:["Changes saved ",c]})]}),children:r.jsx(U,{mode:"bleed",justify:"flex-start",tone:d==null?void 0:d.tone,...i,"data-testid":"review-changes-button",ref:n,children:r.jsxs(N,{align:"center",children:[r.jsx(D,{marginRight:s?0:3,children:r.jsx(M,{children:r.jsx(Za,{status:o})})}),!s&&r.jsx(M,{size:1,weight:"medium",children:d==null?void 0:d.text})]})})}):null}),ti=ot.memo(ei),ni=1e3,oi=3e3,si=u.memo(function(){var e;const{changesOpen:n,documentId:s,documentType:o,editState:a,onHistoryClose:i,onHistoryOpen:l,timelineStore:c,value:d}=B(),f=Kn(s,o),h=d==null?void 0:d._updatedAt,b=(e=a==null?void 0:a.published)==null?void 0:e._updatedAt,j=!!(a!=null&&a.liveEdit),y=!!(a!=null&&a.published),E=!!(a!=null&&a.draft),[S,v]=u.useState(null),g=Ce(S),P=!g||(g==null?void 0:g.width)<300,[m,p]=u.useState(null),x=we(c,I=>I.onOlderRevision);u.useEffect(()=>{if(m==="syncing"&&!f.isSyncing){const I=setTimeout(()=>p("saved"),ni);return()=>clearTimeout(I)}if(m==="saved"){const I=setTimeout(()=>p(null),oi);return()=>clearTimeout(I)}},[m,h,f.isSyncing]),u.useLayoutEffect(()=>{p(null)},[s]),u.useLayoutEffect(()=>{f.isSyncing&&p("syncing")},[f.isSyncing,h]);const w=u.useMemo(()=>r.jsx(ti,{lastUpdated:h,status:m||(E?"changes":void 0),onClick:n?i:l,disabled:x,selected:n,collapsed:P}),[E,n,i,l,h,x,m,P]),_=u.useMemo(()=>(j||y)&&r.jsx(D,{marginRight:1,children:r.jsx(Ba,{disabled:x,lastPublished:b,lastUpdated:h,liveEdit:j,collapsed:P})}),[P,b,h,j,y,x]);return r.jsxs(N,{align:"center","data-ui":"DocumentSparkline",ref:v,children:[_,r.jsxs(N,{align:"center",flex:1,children:[w,!P&&r.jsx(D,{marginLeft:3,children:r.jsx(Fa,{})})]})]})}),ri=W(D)(Mt||(Mt=H([`
  min-width: 10em;
  max-width: 16em;
`])));function ai(t){const{actionsBoxRef:e}=t,{badges:n,timelineStore:s}=B(),o=we(s,a=>a.onOlderRevision);return u.useMemo(()=>r.jsx(D,{paddingLeft:2,paddingRight:[2,3],paddingY:2,children:r.jsxs(N,{align:"center",children:[r.jsx(D,{flex:[1,2],children:n&&r.jsx(si,{})}),r.jsx(ri,{flex:1,marginLeft:[1,3],ref:e,children:o?r.jsx(Na,{}):r.jsx(ka,{})})]})}),[e,n,o])}function ii(t){const{actionsBoxElement:e,activeIndex:n,as:s="div",children:o,id:a,onActionStart:i,onKeyDown:l,rootRef:c,states:d,...f}=t,h=d[n],b=u.useCallback(j=>{const y=d.filter(S=>S.shortcut&&Qt(S.shortcut,j)),E=y[0];if(y.length>1&&console.warn('Keyboard shortcut conflict: More than one document action matches the shortcut "'.concat(E.shortcut,'"')),E&&!E.disabled&&E.onHandle){j.preventDefault(),E.onHandle(),i(d.indexOf(E));return}l&&l(j)},[i,l,d]);return u.createElement(s,{id:a,onKeyDown:b,tabIndex:-1,...f,ref:c},[o,h&&h.dialog&&r.jsx(st,{zOffset:"paneFooter",children:r.jsx(dt,{dialog:h.dialog,referenceElement:e})})])}const Sn=ot.memo(t=>{const{actionsBoxElement:e,as:n="div",children:s,...o}=t,{actions:a,editState:i}=B(),[l,c]=u.useState(-1),d=u.useCallback(h=>{c(h)},[]),f=u.useMemo(()=>i&&{...i,onComplete:()=>{},revision:void 0},[i]);return!f||!a?null:r.jsx(lt,{actionProps:f,actions:a,children:h=>{let{states:b}=h;return r.jsx(ii,{...o,activeIndex:l,actionsBoxElement:e,as:n,onActionStart:d,states:b,children:s})}})});Sn.displayName="DocumentActionShortcuts";const Ht=["fixed","absolute"],ci=W(qn)(Tt||(Tt=H([`
  flex: 1;
  display: flex;
  flex-direction: column;
  min-height: 0;
  min-width: 0;
`]))),bi=u.memo(function(e){const{name:n}=Kt();return r.jsx(qt,{name:e.pane.source||n,children:r.jsx(li,{...e})})});function li(t){var e;const{pane:n,paneKey:s}=t,{resolveNewDocumentOptions:o}=Kt().document,a=Se(),i=di(n.options,a.params),{documentType:l,isLoaded:c}=Xn(i.id,i.type),d=u.useMemo(()=>o({type:"global"}),[o]),[f,h]=Jn({templateItems:d}),b=c&&!h,j=u.useMemo(()=>b&&l&&i.type!==l?ui(t,i,l):t,[t,l,b,i]),{ReferenceChildLink:y,handleEditReference:E,groupIndex:S,routerPanesState:v}=a,g=((e=v[S+1])==null?void 0:e[0].params)||{},P=v.length,{parentRefPath:m}=g,p=u.useMemo(()=>m?{path:He(m),state:S>=P-1?"none":S>=P-2?"selected":"pressed"}:{path:[],state:"none"},[m,S,P]);return i.type==="*"&&!b?r.jsx(ce,{flex:2.5,minWidth:320,paneKey:s,title:"Loading document…"}):l?r.jsx(Qn,{...j,children:r.jsx(Zn,{EditReferenceLinkComponent:y,onEditReference:E,initialValueTemplateItems:f,activePath:p,children:r.jsx(pi,{})})},"".concat(l,"-").concat(i.id)):r.jsx(yn,{flex:2.5,minWidth:320,paneKey:s,title:r.jsx(r.Fragment,{children:"The document was not found"}),children:r.jsx(G,{space:4,children:r.jsxs(M,{as:"p",children:["The document type is not defined, and a document with the ",r.jsx("code",{children:i.id})," ","identifier could not be found."]})})})}function di(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const n=eo();return u.useMemo(()=>{if(t.type&&t.type!=="*")return t;const s=t.template||e.template,o=s?n.find(i=>i.id===s):void 0,a=o==null?void 0:o.schemaType;return a?{...t,type:a}:t},[t,e.template,n])}function ui(t,e,n){return{...t,pane:{...t.pane,options:{...e,type:n}}}}function pi(){const{changesOpen:t,documentType:e,inspector:n,inspectOpen:s,onFocus:o,onPathOpen:a,onHistoryOpen:i,onKeyUp:l,paneKey:c,schemaType:d,value:f}=B(),{collapsed:h}=Xt(),b=to(),[j,y]=u.useState(null),[E,S]=u.useState(null),[v,g]=u.useState(null),[P,m]=u.useState(null),p=Ce(E),x=p==null?void 0:p.height,w=u.useCallback(C=>{a(C),o(C)},[a,o]),_=Po+(n?$e:0),I=Eo+(n?$e:0);return d?r.jsxs(Sn,{actionsBoxElement:v,as:Ee,currentMinWidth:_,"data-testid":"document-pane",flex:2.5,id:c,minWidth:I,onKeyUp:l,rootRef:y,children:[r.jsx(ut,{position:Ht,zOffset:b.portal,children:r.jsx(N,{direction:"column",flex:1,height:h?void 0:"fill",children:r.jsx(ci,{"data-testid":"change-connector-root",isReviewChangesOpen:t,onOpenReviewChanges:i,onSetFocus:w,children:r.jsx(Ia,{footerHeight:x||null,isInspectOpen:s,rootElement:j,setDocumentPanelPortalElement:m})})})}),r.jsx(De,{__unstable_elements:{[Jt]:P},children:r.jsx(ut,{position:Ht,zOffset:b.portal,children:r.jsx(oo,{ref:S,children:r.jsx(ai,{actionsBoxRef:g})})})}),r.jsx(Zr,{})]}):r.jsx(yn,{currentMinWidth:_,flex:2.5,minWidth:I,paneKey:c,title:r.jsxs(r.Fragment,{children:["Unknown document type: ",r.jsx("code",{children:e})]}),tone:"caution",children:r.jsxs(G,{space:4,children:[e&&r.jsxs(M,{as:"p",children:["This document has the schema type ",r.jsx("code",{children:e}),", which is not defined as a type in the local content studio schema."]}),!e&&r.jsx(M,{as:"p",children:"This document does not exist, and no schema type was specified for it."}),no]})})}function hi(){return r.jsx(X,{height:"fill",children:r.jsx(N,{align:"center",height:"fill",justify:"center",padding:4,sizing:"border",children:r.jsx(de,{width:0,children:r.jsx(X,{padding:4,radius:2,shadow:1,tone:"caution",children:r.jsxs(N,{children:[r.jsx(D,{children:r.jsx(M,{size:1,children:r.jsx($t,{})})}),r.jsxs(G,{flex:1,marginLeft:3,space:3,children:[r.jsx(M,{as:"h1",size:1,weight:"bold",children:"No document types"}),r.jsx(M,{as:"p",muted:!0,size:1,children:"Please define at least one document type in your schema."}),r.jsx(M,{as:"p",muted:!0,size:1,children:r.jsx("a",{href:"https://www.sanity.io/docs/create-a-schema-and-configure-sanity-studio",target:"_blank",rel:"noreferrer",children:"Learn how to add a document type →"})})]})]})})})})})}const fi=W(Er)(kt||(kt=H([`
  min-height: 100%;
  min-width: 320px;
`]))),mi=Qt("mod+s"),gi=u.memo(function(e){let{onPaneChange:n}=e;var s;const{push:o}=et(),a=so(),{layoutCollapsed:i,setLayoutCollapsed:l}=oe(),{paneDataItems:c,resolvedPanes:d}=Lr(),f=Ze(u.useCallback(S=>typeof S.intent=="string",[])),[h,b]=u.useState(null),j=u.useCallback(()=>l(!0),[l]),y=u.useCallback(()=>l(!1),[l]);return u.useEffect(()=>{d.length&&n(d)},[n,d]),u.useEffect(()=>{const S=v=>{mi(v)&&(v.preventDefault(),o({closable:!0,id:"auto-save-message",status:"info",title:"Your work is automatically saved!",duration:4e3}))};return window.addEventListener("keydown",S),()=>window.removeEventListener("keydown",S)},[o]),((s=a._original)==null?void 0:s.types.some(ro))?r.jsxs(De,{element:h||null,children:[r.jsxs(fi,{flex:1,height:i?void 0:"fill",minWidth:512,onCollapse:j,onExpand:y,children:[c.map(S=>{let{active:v,childItemId:g,groupIndex:P,itemId:m,key:p,pane:x,index:w,params:_,path:I,payload:C,siblingIndex:T,selected:R}=S;return r.jsx(u.Fragment,{children:x===Ve?r.jsx(ce,{paneKey:p,path:I,selected:R}):r.jsx(qr,{active:v,groupIndex:P,index:w,pane:x,childItemId:g,itemId:m,paneKey:p,params:_,payload:C,path:I,selected:R,siblingIndex:T})},"".concat(x===Ve?"loading":x.type,"-").concat(w))}),c.length<=1&&f&&r.jsx(ce,{paneKey:"intent-resolver"})]}),r.jsx("div",{"data-portal":"",ref:b})]}):r.jsx(hi,{})});function xi(t){let{tool:{options:e}}=t;const{unstable_sources:n}=Io(),[s]=n,{source:o,defaultDocumentNode:a,structure:i}=e||{};u.useEffect(()=>(ke([]),()=>ke([])),[]);const[{error:l},c]=u.useState({error:null});return l?r.jsx(Ur,{error:l}):r.jsx(So,{onCatch:c,children:r.jsx(qt,{name:o||s.name,children:r.jsxs(wo,{defaultDocumentNode:a,structure:i,children:[r.jsx(gi,{onPaneChange:ke}),r.jsx(Br,{})]})})})}var yi=Object.freeze({__proto__:null,default:xi});export{bi as DocumentPane,yi as index,ea as useDeskToolSetting};
